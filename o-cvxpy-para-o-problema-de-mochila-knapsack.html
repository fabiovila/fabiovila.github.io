<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>O CVXPY para o problema de mochila (knapsack) - fabiovila</title><meta name="description" content="CVXPYCVXPY é um framework python para diversos otimizadores com uma linguagem própria e suporte a Numpy. Para instalar o CVXPY use o pip: pip install cvxpy Um dos otimizadores disponíveis é o CBC um otimizador de programação linear inteiro open-source. O CBC pode ser usado&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fabiovila.github.io/o-cvxpy-para-o-problema-de-mochila-knapsack.html"><link rel="alternate" type="application/atom+xml" href="https://fabiovila.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://fabiovila.github.io/feed.json"><meta property="og:title" content="O CVXPY para o problema de mochila (knapsack)"><meta property="og:site_name" content="fabiovila"><meta property="og:description" content="CVXPYCVXPY é um framework python para diversos otimizadores com uma linguagem própria e suporte a Numpy. Para instalar o CVXPY use o pip: pip install cvxpy Um dos otimizadores disponíveis é o CBC um otimizador de programação linear inteiro open-source. O CBC pode ser usado&hellip;"><meta property="og:url" content="https://fabiovila.github.io/o-cvxpy-para-o-problema-de-mochila-knapsack.html"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://fabiovila.github.io/assets/css/style.css?v=7732657eeb94a5a78cc6c21111eaa8e4"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fabiovila.github.io/o-cvxpy-para-o-problema-de-mochila-knapsack.html"},"headline":"O CVXPY para o problema de mochila (knapsack)","datePublished":"2020-07-26T15:35","dateModified":"2021-05-21T10:03","description":"CVXPYCVXPY é um framework python para diversos otimizadores com uma linguagem própria e suporte a Numpy. Para instalar o CVXPY use o pip: pip install cvxpy Um dos otimizadores disponíveis é o CBC um otimizador de programação linear inteiro open-source. O CBC pode ser usado&hellip;","author":{"@type":"Person","name":"Fabio"},"publisher":{"@type":"Organization","name":"Fabio"}}</script><script>MathJax = {
  tex: {
    inlineMath: [['$', '$']]
  }
};</script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><link rel="stylesheet" href="assets/css/ft-syntax-highlight-min.css"></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://fabiovila.github.io/">fabiovila</a></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-07-26T15:35">July 26, 2020</time></div><h1>O CVXPY para o problema de mochila (knapsack)</h1><div class="post__meta post__meta--author"><a href="https://fabiovila.github.io/authors/fabio/" class="feed__author invert">Fabio</a></div></div></header></div><div class="wrapper post__entry"><h2>CVXPY</h2><p>CVXPY é um framework python para diversos otimizadores com uma linguagem própria e suporte a Numpy.</p><p>Para instalar o CVXPY use o pip:</p><p><code>pip install cvxpy</code></p><p>Um dos otimizadores disponíveis é o <a href="https://projects.coin-or.org/Cbc" target="_blank" rel="noopener noreferrer">CBC</a>  um otimizador de programação linear inteiro open-source. O CBC pode ser usado em linha de comando sem ser necessário o CVXPY, mas neste caso será necessário aprender sua linguagem de entrada. </p><p>Também será necessário instalar o CVXOPT:</p><p><code>pip install cvxopt</code></p><h2>Problema da mochila</h2><p>O problema da mochila mais conhecido como knapsack é um problema clássico de otimização combinatória.</p><p>O problema consiste em colocar o maior valor possível de itens em uma mochila com certa capacidade de peso. A mochila tem uma capacidade definida de peso. Os itens um peso e um valor. A objetivo é ter o maior valor possível dentro da mochila, ou seja, maximizar o valor.</p><p>Esse problema aparece em diversas áreas como a logística, computação e investimentos.</p><pre class="ft-syntax-highlight" data-syntax="html">import cvxpy as cp<br>import numpy as np<br><br><br># Dados de entrada do problema<br><br>Valores = np.array([10,13,1,100,45,13,156,76,4,59,97,99])<br>Pesos = np.array([50,55,10,5,1,98,34,3,9,3,7,19])<br><br>Capacidade_Mochila = 100<br><br># Variaveis de decisão<br># Cada Item Xi terá valor 1 se estiver na mochila ou 0 se estiver fora<br># cp.Variable cria uma variável no CVX ( não confunda cp com np ) do tipo boolean do tamanho da quantidade de itens<br><br>Xi = cp.Variable((Valores.size), boolean = True)<br><br># Constraints do problema<br><br># A soma total dos pesos dos itens escolhidos por Xi devem ser igual ou menor que a capacidade da mochila                <br>constraints = [ Xi @ Pesos &lt;= Capacidade_Mochila ]<br><br># Tambem pode ser escrito com o mesmo resultado como:<br>#constraints = [ cp.sum( cp.multiply (Xi, Pesos ) ) &lt;= Capacidade_Mochila ]<br><br># O Objetivo do problema<br># é maximizar os valores na mochila<br>objective = cp.Maximize( Xi @ Valores )<br><br># finalmente chamamos o solver com verbose para acompanhar <br># o progresso e a execução máxima de 1hr<br>prob = cp.Problem(objective, constraints)              <br>prob.solve(solver=cp.CBC,verbose=True, maximumSeconds = 1 * 60 * 60)         <br>print("Status          : ", prob.status)<br>print("Valor encontrado: ", prob.value)<br>print("Valor de Xi     : ", Xi.value)</pre><p>O problema da mochila tem muitas aplicações práticas principalmente na logística. Imagine uma transportadora que precisa distribuir seus pacotes utilizando vans e caminhões. Cada pacote tem peso, tamanho, localidade, tempo de espera e valor. Um programa de otimização pode ajudar no preenchimento dos caminhões e em aplicações profissionais traçar a rota de distribuição de cada veículo.</p><p>Problemas de otimização não acham o melhor valor, porque em geral é uma tarefa impossível (o mais correto seria improvável) de acha-lo devido a explosão combinatória. Por isso são chamado 'otimizadores' porque eles buscam a melhor solução possível, ou seja, uma solução ótima.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on May 21, 2021</p><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://fabiovila.github.io/authors/fabio/" class="invert" rel="author">Fabio</a></h3></div></div></footer></article></main><footer class="footer"><div class="footer__copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://fabiovila.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://fabiovila.github.io/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>