<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Fazendo uma dieta de café da manhã de baixo custo no OR-TOOLs - Fabio</title><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;1,300&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://fabiovila.github.io/assets/css/high/androidstudio.css?v=9e7d7647550e9ab1816737c96edda3ea"><script src="https://fabiovila.github.io/assets/js/highlight.min.js?v=794898ca191671a50f3d9908f4fa4815"></script><meta name="description" content="Dietas com restrições Um problema comum na nutrição é a confecção de dietas com restrições. As restrições podem ser calóricas ou com ausência de algum componente como a lactose, a gordura, o glúten, etc .... Em geral o custo destas dietas aumentam em relação a&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fabiovila.github.io/fazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html"><link rel="alternate" type="application/atom+xml" href="https://fabiovila.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://fabiovila.github.io/feed.json"><meta property="og:title" content="Fazendo uma dieta de café da manhã de baixo custo no OR-TOOLs"><meta property="og:image" content="https://fabiovila.github.io/media/posts/2/bread-18987_640.jpg"><meta property="og:site_name" content="Fabio"><meta property="og:description" content="Dietas com restrições Um problema comum na nutrição é a confecção de dietas com restrições. As restrições podem ser calóricas ou com ausência de algum componente como a lactose, a gordura, o glúten, etc .... Em geral o custo destas dietas aumentam em relação a&hellip;"><meta property="og:url" content="https://fabiovila.github.io/fazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Rubik:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:'Rubik',sans-serif;--post-entry-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://fabiovila.github.io/assets/css/style.css?v=85eaabd53117ce4fe7e057969866b6e7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fabiovila.github.io/fazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html"},"headline":"Fazendo uma dieta de café da manhã de baixo custo no OR-TOOLs","datePublished":"2020-08-02T11:24","dateModified":"2021-05-21T20:32","image":{"@type":"ImageObject","url":"https://fabiovila.github.io/media/posts/2/bread-18987_640.jpg","height":426,"width":640},"description":"Dietas com restrições Um problema comum na nutrição é a confecção de dietas com restrições. As restrições podem ser calóricas ou com ausência de algum componente como a lactose, a gordura, o glúten, etc .... Em geral o custo destas dietas aumentam em relação a&hellip;","author":{"@type":"Person","name":"Fabio"},"publisher":{"@type":"Organization","name":"Fabio"}}</script><script>MathJax = {
  tex: {
    inlineMath: [['$', '$']]
  }
};</script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script></head><body><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://fabiovila.github.io/">Fabio</a></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2021-06-02T14:23">junho 2, 2021</time></div><div class="infobar__search"><form action="https://fabiovila.github.io/search.html"><input type="search" name="q" placeholder="search..." aria-label="Search input"> <button type="submit" aria-label="Submit"><svg role="presentation" focusable="false" width="15px" height="14px"><use xlink:href="https://fabiovila.github.io/assets/svg/svg-map.svg#search"/></svg></button></form></div></div><main class="main"><article class="post"><figure class="post__featured-image"><img src="https://fabiovila.github.io/media/posts/2/bread-18987_640.jpg" srcset="https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-xs.jpg 300w, https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-sm.jpg 480w, https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-md.jpg 768w, https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-lg.jpg 1024w, https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-xl.jpg 1360w, https://fabiovila.github.io/media/posts/2/responsive/bread-18987_640-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="426" width="640" alt=""></figure><header class="u-header post__header"><h1>Fazendo uma dieta de café da manhã de baixo custo no OR-TOOLs</h1><div class="u-header__meta u-small"><div><a href="https://fabiovila.github.io/authors/fabio/" title="Fabio">Fabio</a> <time datetime="2020-08-02T11:24">agosto 2, 2020 </time><a href="https://fabiovila.github.io/cvxpy/" class="u-tag u-tag--1">cvxpy</a></div></div></header><div class="post__entry u-inner"><h2>Dietas com restrições</h2><p>Um problema comum na nutrição é a confecção de dietas com restrições. As restrições podem ser calóricas ou com ausência de algum componente como a lactose, a gordura, o glúten, etc ....</p><p>Em geral o custo destas dietas aumentam em relação a dieta comum. Para auxiliar na procura de uma dieta barata neste post faremos uma dieta abaixo de uma dada caloria e com menor custo possível usando o otimizador OR-TOOLs.</p><p><em>Apesar do título esse post (e meu blog) trata de um exemplo de uso do otimizador OR-TOOLs em Python e tem tópicos de matemática. Se você chegou aqui e é da área da nutrição provavelmente se perderá, porém ao menos ficará o conhecimento intuitivo do uso de softwares para se fazer dietas.</em></p><h6>Quantidades praticáveis</h6><p>O problema de escolher certos alimentos reduzindo o custo é um problema semelhante ao knapsack. Onde é dado uma lista de alimentos com seus valores calóricos e custos e uma quantidade de calorias máxima e minima que deverão ser respeitados. O objetivo é minimizar o custo da dieta. </p><p>Um dos problemas a se resolver é a quantidade impraticável. Não há como quantificar 1.01 ou 0.04 de um Ovo, a dieta deve conter quantidades praticáveis de cada alimento.</p><p>Há várias forma de se resolver isso. Uma delas é repetir o alimento com quantidades fracionadas e seguras. Dessa forma teremos $X_{?} - Ovo Inteiro, X_{?} - Meio Ovo$ e assim vai. É uma forma segura pois cada alimento tem fracionamento diferente como por exemplo o Leite que pode ser 1 Copo, 100mL, 1L, 0.1 Litros, 240mL em contraste com o Ovo que só faz sentido valores inteiros.</p><p>Entretanto um aumento no número de variáveis degrada a performance do solver. Mas não podemos esquecer que em um ambiente de produção a Nutricionista irá selecionar previamente os alimentos possíveis e ainda deve-se levar em conta que em um café da manhã não se tem muitas opções disponíveis o que torna o problema resolvível em tempo hábil.</p><p>Em um ambiente de produção quando a pessoa seleciona Ovo o programa automaticamente trabalha com Ovo inteiro e Meio Ovo. Para evitar que Meio Ovo seja usado mais de uma vez (o que daria um ovo inteiro) podemos restringir o Meio Ovo para somente 1 unidade, entretanto Ovo Inteiro pode ser usado indefinidamente unidades inteiras.</p><h6>O problema</h6><p>O modelo matemático deste problema é </p><div class="defin"><p>Dados:</p><p>$V_{i}$ - Valor calórico do alimento $i$<br><br>$C_{i}$ - Custo em Reais do alimento $i$<br><br>$K$ - Calorias máximas da dieta</p><p>$Km$ - Calorias minimas da dieta</p><p>$X_{i}$ - Variável de decisão que indica a quantidade do alimento $i$ na dieta, não pode ser Reais pois podemos ter como resultado valores fracionários impraticáveis em alguns alimentos como ovos, pão, queijos.</p><p>$X_{i}\leq4$ - Limitamos o número de cada alimento para evitar monotonia da dieta</p><p>Onde queremos:</p><p>$\quad\min(\sum\nolimits_{X_{i}C_{i}})$</p><p>$\quad\text{sujeito a:}$</p><p>$\quad\sum\nolimits_{X_{i}V_{i}}\leq K$</p><p>$\quad\sum\nolimits_{X_{i}V_{i}}\geq Km$</p><p>$\quad X_{i}\in \{0, 0.5, 1, 1.5 , 2 , 2.5 , 3 , 3.5, 4\}$</p></div><p>$X_{i}$ deve ser maior ou igual a 0 e limitamos os valores para $\{0, 0.5, 1, 1.5 , 2 , 2.5 , 3 , 3.5, 4\}$ para impedir que um ovo tenha 1.01 ou 0.02 de quantidade e no máximo 4  quantidades do alimento para não sair uma dieta com poucos ou um alimento.</p><p> </p><p> </p><p> </p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on maio 21, 2021</div><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ffabiovila.github.io%2Ffazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer" aria-label="Share with Facebook"><svg class="u-icon"><use xlink:href="https://fabiovila.github.io/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://wa.me/?text=Fazendo%20uma%20dieta%20de%20caf%C3%A9%20da%20manh%C3%A3%20de%20baixo%20custo%20no%20OR-TOOLs https%3A%2F%2Ffabiovila.github.io%2Ffazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html" class="js-share whatsapp" rel="nofollow noopener noreferrer" title="Share with WhatsApp" aria-label="Share with WhatsApp"><svg class="u-icon"><use xlink:href="https://fabiovila.github.io/assets/svg/svg-map.svg#whatsapp"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Ffabiovila.github.io%2Ffazendo-um-cardapio-de-cafe-da-manha-com-calorias-e-baixo-custo-no-or-tools.html&amp;title=Fazendo%20uma%20dieta%20de%20caf%C3%A9%20da%20manh%C3%A3%20de%20baixo%20custo%20no%20OR-TOOLs" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow noopener noreferrer" aria-label="Share with LinkedIn"><svg class="u-icon"><use xlink:href="https://fabiovila.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div></aside><footer class="post__footer"><div class="post__bio box"><div><h4 class="h6"><a href="https://fabiovila.github.io/authors/fabio/" title="Fabio">Fabio</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://fabiovila.github.io/o-cvxpy-para-o-problema-de-mochila-knapsack.html" class="post__nav__link" rel="prev"><img src="https://fabiovila.github.io/media/posts/1/responsive/Screenshot-from-2021-05-15-17-39-07-2-xs.png" loading="lazy" alt=""><div class="u-small">Previous Post<h5>O CVXPY para o problema de mochila (knapsack)</h5></div></a></div><div class="post__nav__next"><a href="https://fabiovila.github.io/rede-neural-em-python-numpy-para-iris-dataset.html" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>Rede neural em python numpy para iris dataset</h5></div><img src="https://fabiovila.github.io/media/posts/6/responsive/Captura-de-tela-de-2021-06-02-14-23-17-xs.png" loading="lazy" alt=""></a></div></nav></footer></article></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><a href="https://fabiovila.github.io/rede-neural-em-python-numpy-para-iris-dataset.html" class="featured__image-link"><img src="https://fabiovila.github.io/media/posts/6/responsive/Captura-de-tela-de-2021-06-02-14-23-17-xs.png" alt=""></a><div><a href="https://fabiovila.github.io/rede-neural-em-python-numpy-para-iris-dataset.html" class="featured__title">Rede neural em python numpy para iris dataset</a> <time class="u-small" datetime="2021-06-02T11:41">junho 2, 2021</time></div></li></ul></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><div><a href="https://fabiovila.github.io/authors/fabio/" class="authors__title">Fabio</a> <span class="u-small">Post: 3</span></div></li></ul></section><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://fabiovila.github.io/cvxpy/">cvxpy</a> <span class="u-small">(2)</span></li><li><a href="https://fabiovila.github.io/machine-learning/">machine-learning</a> <span class="u-small">(1)</span></li><li><a href="https://fabiovila.github.io/numpy/">numpy</a> <span class="u-small">(1)</span></li><li><a href="https://fabiovila.github.io/otimizacao/">otimização</a> <span class="u-small">(2)</span></li><li><a href="https://fabiovila.github.io/python/">python</a> <span class="u-small">(3)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://fabiovila.github.io/">Fabio</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://fabiovila.github.io/assets/js/prism.js?v=69a32fbf58ef6b3bd9ee36d8cdf634d4"></script><script defer="defer" src="https://fabiovila.github.io/assets/js/scripts.min.js?v=3dc768003cc6d66c9e7bf0904e71d3e8"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script>hljs.highlightAll();</script></body></html>